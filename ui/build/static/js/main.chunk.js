(this.webpackJsonpaoe2_head2head_ui=this.webpackJsonpaoe2_head2head_ui||[]).push([[0],{63:function(e,a,t){e.exports=t(93)},93:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(15),l=t.n(o),c=t(9),i=t(57),s=t(130),d=t(141);var m={palette:{primary:{main:"#794C39"},secondary:{main:"#2A2C2D"},status:{danger:"#b52513",success:"#6986af",warning:"#C39568",neutral:"#2A2C2D",info:"#794C39"},typography:{link:"#005DFF",highlight:"#B3D6FF"}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:2048}}},p=t(134),u=t(136),g=t(128),h=t(132),b=t(135),f=t(129),E=t(133),v=t(131),y=t(4),k=t(33),w=t.n(k);const C=Object(y.a)(e=>({head:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},body:{fontSize:14}}))(g.a),x=Object(y.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}))(f.a),N=Object(s.a)({table:{minWidth:700},tableHeadCell:{cursor:"pointer","&:hover":{filter:"brightness(120%)"}},error:{color:m.palette.status.danger,background:m.palette.secondary.main,padding:"1rem"},link:{cursor:"pointer",color:m.palette.typography.link,"&:hover":{textDecoration:"underline"}}});var j=e=>{const a=r.a.useState("last_played_against"),t=Object(c.a)(a,2),n=t[0],o=t[1],l=r.a.useState("dsc"),i=Object(c.a)(l,2),s=i[0],d=i[1],m=N(),g=e=>{e===n?d("asc"===s?"dsc":"asc"):(d("name"===e?"asc":"dsc"),o(e))};if(e.loading)return r.a.createElement(v.a,null);if(e.error||!e.data)return r.a.createElement("div",{className:m.error},"No player exists with searched name on the given leaderboard.");const y=e.data;window.data=y;const k=Object.keys(y.tracker.records).filter(e=>{const a=y.tracker.records[e];return a.wins_against+a.losses_to>0}).sort((e,a)=>{const t=y.tracker.players[e],r=y.tracker.records[e],o=y.tracker.players[a],l=y.tracker.records[a];let c=r[n],i=l[n];return"name"===n?(c=t.name.toLowerCase(),i=o.name.toLowerCase()):"num_games"===n&&(c=r.wins_against+r.losses_to,i=l.wins_against+l.losses_to),"asc"===s?c<i?-1:1:"dsc"===s?c<i?1:-1:0});return r.a.createElement(h.a,{component:E.a},r.a.createElement(p.a,{className:m.table,"aria-label":"customized table"},r.a.createElement(b.a,null,r.a.createElement(f.a,null,r.a.createElement(C,{onClick:()=>{g("name")},className:m.tableHeadCell,align:"center"},"Player Name ","name"===n?"(".concat(s,")"):""),r.a.createElement(C,{onClick:()=>{g("num_games")},className:m.tableHeadCell,align:"center"},"Num Games ","num_games"===n?"(".concat(s,")"):""),r.a.createElement(C,{onClick:()=>{g("wins_against")},className:m.tableHeadCell,align:"center"},"Wins Against"," ","wins_against"===n?"(".concat(s,")"):""),r.a.createElement(C,{onClick:()=>{g("losses_to")},className:m.tableHeadCell,align:"center"},"Losses To ","losses_to"===n?"(".concat(s,")"):""),r.a.createElement(C,{onClick:()=>{g("last_played_against")},className:m.tableHeadCell,align:"center"},"Last Played"," ","last_played_against"===n?"(".concat(s,")"):""))),r.a.createElement(u.a,null,k.map(e=>{const a=y.tracker.players[e],t=y.tracker.records[e],n=w.a.utc(t.last_played_against);return r.a.createElement(x,{key:e},r.a.createElement(C,{component:"th",scope:"row"},r.a.createElement("span",{className:m.link,onClick:()=>{window.open("https://aoe2.net/#profile-".concat(a.steam_id||a.profile_id))}},a.name)),r.a.createElement(C,{align:"right"},t.wins_against+t.losses_to),r.a.createElement(C,{align:"right"},t.wins_against),r.a.createElement(C,{align:"right"},t.losses_to),r.a.createElement(C,{align:"right"},w()(n).local().format("YYYY-MM-DD hh:mm:ss A")))}))))},_=t(142),O=t(144),S=t(140),I=t(145),L=t(139),D=t(137);var H=e=>r.a.createElement(D.a,{variant:"contained",onClick:e.onClick,disabled:e.disabled,color:e.type},e.children),T=t(143),z=t(138),A=t(54),F=t.n(A);const M=Object(y.a)(()=>({root:{background:"white"}}))(T.a);var R=e=>{const a=e.value,t=e.placeholder,n=e.onChange,o=e.onKeyDown;return r.a.createElement(M,{type:"text",value:a,placeholder:t,onChange:n,onKeyDown:o,inputProps:{maxLength:25},startAdornment:r.a.createElement(z.a,{position:"start"},r.a.createElement(F.a,null))})};const B=Object(y.a)(()=>({root:{color:"black","&.Mui-focused":{color:"black"}}}))(L.a),W=Object(s.a)(()=>({root:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"550px"}}));var Y=e=>{const a=r.a.useState(e.defaultName||""),t=Object(c.a)(a,2),n=t[0],o=t[1],l=r.a.useState(e.defaultLeaderboardName||"solo"),i=Object(c.a)(l,2),s=i[0],d=i[1],m=W();return r.a.createElement("div",{className:m.root},r.a.createElement(R,{value:n,onChange:e=>{o((null===e||void 0===e?void 0:e.target).value)},onKeyDown:a=>{13!==a.which||e.isLoading||n.length<3||e.onSubmit(n,s)}}),r.a.createElement("div",null,r.a.createElement(I.a,{component:"fieldset"},r.a.createElement(B,null,"Leaderboard"),r.a.createElement(O.a,{"aria-label":"leaderboard",name:"leaderboard1",value:s,onChange:e=>{d(e.target.value)}},r.a.createElement(S.a,{value:"solo",control:r.a.createElement(_.a,null),label:"Solo"}),r.a.createElement(S.a,{value:"team",control:r.a.createElement(_.a,null),label:"Team"})))),r.a.createElement(H,{type:"primary",disabled:e.isLoading||n.length<3,onClick:()=>{e.onSubmit(n,s)}},"Search"))};var J=e=>0===e.numRecords?r.a.createElement("div",null):r.a.createElement("div",null,"Displaying ",e.numRecords,' players for leaderboard "',e.leaderboardName,'", player "',e.playerName,'"'),K=t(34),P=t.n(K),G=t(55),U=t(56),$=t.n(U);const q=window.location.origin,Q={},V=$.a.create({baseURL:q}),X=Object(i.a)(m),Z=Object(s.a)(e=>({app:{textAlign:"center",position:"relative"},appHeader:{fontSize:"1.5rem",color:"black",display:"flex",justifyContent:"center",position:"fixed",top:"0px",width:"100%",background:"#C39568"},headerSize:{position:"relative",height:"50px",width:"1200px",display:"flex",justifyContent:"space-between"},headerLeft:{display:"flex",justifyContent:"flex-start",alignItems:"center",height:"100%"},headerRight:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:"100%"},headerIcon:{width:"24px",cursor:"pointer",marginLeft:"10px"},pageContent:{marginTop:"50px"},backgroundImageContainer:{display:"flex",justifyContent:"center"},backgroundImage:{position:"fixed",zIndex:-1,opacity:.25,[e.breakpoints.up("xl")]:{width:"3072px"}},playerNameInputContainer:{display:"flex",justifyContent:"center",marginTop:"2rem"},infoContainer:{marginTop:"2rem"},tableContainer:{display:"flex",justifyContent:"center",marginTop:"2rem"},tableSize:{width:"1200px",marginBottom:"5rem"},errorText:{color:e.palette.error.main},appFooter:{position:"absolute",bottom:0,margin:"2rem"}}));var ee=()=>{const e=Z(),a=window.location.hash.slice(1).split(",")[0].slice(0,25)||"";let t=window.location.hash.slice(1).split(",")[1];"solo"!==t&&"team"!==t&&(t="");const o=r.a.useState(a),l=Object(c.a)(o,2),i=l[0],s=l[1],m=r.a.useState(t),p=Object(c.a)(m,2),u=p[0],g=p[1],h=function(e,a){const t=Object(n.useState)(null),r=Object(c.a)(t,2),o=r[0],l=r[1],i=Object(n.useState)(!0),s=Object(c.a)(i,2),d=s[0],m=s[1],p=Object(n.useState)(!1),u=Object(c.a)(p,2),g=u[0],h=u[1];return Object(n.useEffect)(()=>{(function(){var t=Object(G.a)(P.a.mark((function t(){var n,r,o;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return m(!1),h(!1),t.abrupt("return");case 4:if(c="GET",i=e,s=a?JSON.stringify(a):"",!(r=Q[n=c+"/"+i+"/"+s])){t.next=12;break}l(r),m(!1),h(!1),t.next=29;break;case 12:return t.prev=12,m(!0),t.next=16,V.get(e,{params:a});case 16:o=t.sent,l(o),m(!1),h(!1),Q[n]=o,t.next=29;break;case 23:t.prev=23,t.t0=t.catch(12),console.error("Failed to get",t.t0),l(null),m(!1),h(!0);case 29:case"end":return t.stop()}var c,i,s}),t,null,[[12,23]])})));return function(){return t.apply(this,arguments)}})()()},[e,a]),[o,d,g]}(i?"lookup/".concat(i,"/").concat(u):""),b=Object(c.a)(h,3),f=b[0],E=b[1],v=b[2];return console.log("got data",null===f||void 0===f?void 0:f.data,E,v),r.a.createElement(d.a,{theme:X},r.a.createElement("div",{className:e.app},r.a.createElement("div",{className:e.pageContent},r.a.createElement("div",{className:e.backgroundImageContainer},r.a.createElement("img",{src:"/static/background.jpg",className:e.backgroundImage,alt:"bg"})),r.a.createElement("div",{className:e.playerNameInputContainer},r.a.createElement(Y,{isLoading:E,onSubmit:(e,a)=>{s(e),g(a),window.location.hash="".concat(e,",").concat(a)},defaultName:a,defaultLeaderboardName:t})),r.a.createElement("div",{className:e.infoContainer},E?null:r.a.createElement(J,{playerName:null===f||void 0===f?void 0:f.data.player_name,leaderboardName:u,numRecords:Object.keys((null===f||void 0===f?void 0:f.data.tracker.records)||{}).length})),r.a.createElement("div",{className:e.tableContainer},r.a.createElement("div",{className:e.tableSize},i?r.a.createElement(j,{loading:E,error:v,data:null===f||void 0===f?void 0:f.data}):null)),r.a.createElement("header",{className:e.appHeader},r.a.createElement("div",{className:e.headerSize},r.a.createElement("div",{className:e.headerLeft},"AOE2: DE Head2Head - Matchup Tracker"),r.a.createElement("div",{className:e.headerRight},r.a.createElement("img",{src:"static/aoe2net.png",alt:"aoe2net",title:"aoe2.net",className:e.headerIcon,onClick:()=>{window.open("https://aoe2.net/")}}),r.a.createElement("img",{src:"static/github.png",alt:"github",title:"github",className:e.headerIcon,onClick:()=>{window.open("https://github.com/benjamin-t-brown/aoe2de_head2head")}})))),r.a.createElement("footer",{className:e.appFooter},"This site is not affiliated with or endorsed by Microsoft Corporation. Age of Empires II: Definitive Edition is a trademark or registered trademark of Microsoft Corporation in the U.S. and other countries."))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[63,1,2]]]);
//# sourceMappingURL=main.chunk.js.map